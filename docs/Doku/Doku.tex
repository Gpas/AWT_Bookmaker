\listfiles
\documentclass[a4paper, abstracton]{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage{amsmath, amsfonts, enumerate}
\usepackage{graphicx}		% graphics
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{hyperref}		% enables the usage of links
\usepackage{glossaries}		% glossary
\setlength{\parindent}{0pt} 	% disable padding of first sentence in a paragraph
\setlength{\parskip}{11pt}		% disable gap between parapgraphs
\usepackage{fixltx2e}		% enables textsubscripting
\usepackage{fancyhdr}		% used for page layout
\usepackage{caption}
\usepackage{subcaption}
\usepackage{float}
\usepackage{listings}		% http://ctan.org/pkg/listings

\lstset{
  basicstyle=\ttfamily,
  mathescape
}

% add font of scrartcl / koma: -> european writing style, wider pages and so on. See def. of KOMA / scratcl
\addtokomafont{author}{\normalsize} 
\addtokomafont{date}{\normalsize} 
%\setkomafont{disposition}{\bfseries}

\setlength{\headheight}{48pt}

% style of all other pages
\fancypagestyle{basicpagestyle}{
	\fancyhf{}								% clear everything
	\fancyfoot[C]{\thepage}
	\renewcommand{\footrulewidth} {1pt}		% set rule thickness
	\renewcommand{\headrulewidth} {1pt}
	\rhead{Bern University of Applied Sciences}
	\lhead{\includegraphics[width=0.8cm]{images/BFHlogo.png}}
	% \fancyfoot[L]{}
	% \fancyfoot[R]{}

}

% style of first page
\fancypagestyle{titlepage}{
   \fancyhf{}
   \renewcommand{\footrulewidth} {0pt}		% set rule thickness
   \renewcommand{\headrulewidth} {1pt}
   \lhead{\includegraphics[width=0.8cm]{images/BFHlogo.png}} %  add logo
   \fancyhead[R]{Bern University of Applied Sciences} % text
}

\pagestyle{basicpagestyle}

\begin{document}
\title{\vspace{1cm}AWT Bookmaker \vspace{1cm}}
\author{
  Stefan Andonie\\
  \texttt{andos1@students.bfh.ch}
  \and
  Pascal Grüter\\
  \texttt{grutp1@students.bfh.ch}\vspace{1cm}
}

\date{Biel, \today}
\vspace{3cm}
\maketitle
\thispagestyle{titlepage}

%\includegraphics[width=15cm]{images/titlepage.jpeg}

\pagebreak

\section{Einleitung}

  Für das Semesterprojekt im Modul Advanced Web Technologie wurde ein Wettsystem
  als Webapplikation implementiert.
  Das System wurde mit Java Server Faces realisiert und soll auf einem Apache
  Tomcat Applikationsserver laufen.
  
  Das Wettsystem soll es einem Buchmacher erlauben Fussballspiele zu erfassen
  und Wettzenarien für gewisse Ergebnisse und Ereignisse währen eines Spiels mit
  dazugehörigen Wettquoten zu definieren.
  Danach sollen Spieler Wetten darauf abschliessen können.

\section{Architektur}

  Unsere Implementierung folgt dem Model, View, Controller pattern.
  Die Views wurden wie üblich mit JSF in den xhtml files definiert.
  Diese Views werden jeweils von einem Java Bean gesteuert, das ist der
  Controller Teil. Die Buissneslogik befindet sich getrennt in eigenen Java
  Klassen die unser Domainmodel abbilden und auf welche die Controller zugreifen.
  
  Die Daten bzw. die instanzen der Domainclasses werden mit Hilfe eines ORMappers
  an eine Relationelle Datenbank angebunden und so persistiert.

  \subsection{Projektstrucktur}

  Dieses Patten findet sich in der Strucktur des Projektes wider.
  Im Sourceverzeichniss finden wir das bookmaker und das model packet und
  ausserhalb den das Webverzeichniss, es enthält die Views und deren ressourcen
  und die JSF konfiguration.
  Das bookmakerpacket enthält sämtliche Controllers und einige Hilfsklassen und
  Methoden die es erlauben properties und Objekte zu laden oder Objekte zu
  manipulieren und zu speichern.
  Dort werden die Ausgabe werte für die Views berechnet und das System bedient.
  Das Modelpacket enthält die Domainmodel Klassen. Die Darin enthaltene
  Buissneslogik erlaubt es benutzer und Wetten zu erstellen und Wetten
  Abzuschliessen. Hier wird der Zustand des Systems abgebildet.
  Des Weiteren befinden sich im Sourceverzeichniss die Mehrsprachigen properties
  files und weiter konfiguretions files.
  
\pagebreak

\section{Model}
 
  Unser Domainmodel
  (Siehe Abbildung \ref{fig:domain_model} auf Seite \pageref{fig:domain_model})
  Beinnhaltet folgende Klassen.
  
  \begin{description}
    \item[User]
      Der User enthält sämtliche eigenchaften eines Benutzers wie
      den vollstaändigen Namen, Emailadresse, Logininformationen und den Betrag
      Spielkredits. Der User hat eine Rolle, er ist entweder
      Bookmaker oder Gambler. Da es nur diese zwei Rollen gibt wurde dem User
      ein Boolean Attribut gegeben welches ihn als Bookmaker ausweist fall es
      true ist. Der Bookmaker enthält eine liste von ihn erstelleter spiele.
      Als Bookmaker können neue Spiele erfasst werden und alte Spiele müssen
      geschlossen werden. Als Bookmaker kann aber nicht gewettet werden.
      Der Gambler kann nun auf diese Spiele Wetten aber selber keine Spiele
      erfassen. Der Gambler enthält eine Liste von ihm erstelter betts.
      
    \item[Game]
      Ein Spiel beinhaltet die id der Teams und eine Liste von Conditions.
      Jedes Spiel hat ein datum und eine Zeit wann es beginnt.
      Die Teamnamen sind als mehrsprachiger String in propertiesfiles mit einer
      id gespeichert.
      Wenn ein Spiel begonnen hat darf nicht mehr darauf gewettet werden.
      Das Spiel enthält einen boolean der true ist falls das spiel abgeschlossen
      wurde (closed). Ein Spiel ist abgeschlossen falls mindestens 90min nach
      der Anfangszeit der Bookmaker der es erstellt hat die conditions
      auswählt welche eingetroffen sind (occurred).
      
    \item[Condition]
      Conditions sind Ereignisse die während eines Games eintreffen können.
      Sie gehören immer zu einem Game.
      Sie beinhalten einene Textid eines mehrsprachigen Textes und parameter
      die in den Text eingefügtwerden sowie eine Wettquote (odd).  
      Die Conditions enthalten des weiteren einen boolean der anzeigt ob
      sie Eingetroffen (occurred) ist (true) oder nicht (false).
      Dieses Attribut soll beim beenden eines Spieles vom Bookmaker gesetzt
      werden anschliessend kann bestimmt werden wer gewonnen hat.
      
    \item[Bet]
      Bets können vom Gambler erstellt werden.
      Betts enthalten eine Condition auf die gewettet wird und einen Betrag
      der vom Gambler eingesetzt wird. Der Betrag wird beim erstellen vorläufig
      dem Gambler abgezogen. Wenn ein Spiel beendet wurde erhält der Gambler
      einen Gewinn der dem Einsatz multipliziert mit der Wettquote entspricht
      vom bookmaker falls die Condition occurred true ist. Oder Der Bookmaker
      erhält den Einsatz falls occurred false ist. 
      
  \end{description}

  \begin{figure}[h!]
  \begin{center}
    \includegraphics[width=0.7\textwidth,angle=-90]{images/DomainModel.pdf}
  \end{center}
  \caption{Domain Model}
  \label{fig:domain_model}
\end{figure}

\section{Views und Controller}

\section{Fazit}

\begin{abstract}
Zusammenfassung
\end{abstract}
\pagebreak
\tableofcontents	% add table of contents (takes 2x typesetting to generate)
\pagebreak
\listoffigures		% add list of figures (takes 2x typesetting to generate)

\pagebreak	% see difference between pagebreak, newpage and clearpage


\pagebreak


\pagebreak	


\end{document}
